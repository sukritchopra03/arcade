import{r as a,j as t}from"./index-CRqe24Pj.js";import{B}from"./BackButton-DJX8SMkP.js";const T=["The quick brown fox jumps over the lazy dog and runs across the field at sunset.","Programming is the art of telling a computer what to do in a language it understands.","In the middle of difficulty lies opportunity, and every challenge is a stepping stone.","Technology is best when it brings people together and makes the world a smaller place.","A journey of a thousand miles begins with a single step and endless determination.","The only way to do great work is to love what you do and never stop learning new things.","Science fiction of today is the science fact of tomorrow if we dare to dream bigger.","Success is not final and failure is not fatal, it is the courage to continue that counts."];function W(){const[c,S]=a.useState(""),[n,h]=a.useState(""),[u,g]=a.useState(!1),[r,i]=a.useState(!1),[m,b]=a.useState(0),[p,j]=a.useState(0),[x,v]=a.useState(0),[o,C]=a.useState(30),N=a.useRef(null),l=a.useRef(null),M=a.useCallback(()=>{const e=T[Math.floor(Math.random()*T.length)];S(e),h(""),g(!0),i(!1),b(Date.now()),j(0),v(0),setTimeout(()=>{var s;return(s=N.current)==null?void 0:s.focus()},50)},[]);a.useEffect(()=>{if(!(!u||r))return l.current=setInterval(()=>{const e=(Date.now()-m)/1e3;j(e),e>=o&&(i(!0),clearInterval(l.current))},100),()=>clearInterval(l.current)},[u,r,m,o]);const k=e=>{if(r)return;const s=e.target.value;s.length>n.length&&s[s.length-1]!==c[s.length-1]&&v(A=>A+1),h(s),s===c&&(i(!0),clearInterval(l.current))},E=n.trim().split(/\s+/).filter(Boolean).length,f=r&&n===c?(Date.now()-m)/1e3:p,y=f>0?Math.round(E/f*60):0,w=n.length>0?Math.max(0,Math.round((n.length-x)/n.length*100)):100,I=Math.max(0,o-Math.floor(p)),R=()=>{g(!1),i(!1),h(""),clearInterval(l.current)};return t.jsxs("div",{className:"tt-root",children:[t.jsx("h1",{children:"⌨️ Typing Test"}),u?t.jsxs("div",{className:"tt-game",children:[t.jsxs("div",{className:"tt-hud",children:[t.jsxs("span",{className:"tt-timer",children:[I,"s"]}),t.jsxs("span",{children:["WPM: ",t.jsx("strong",{children:y})]}),t.jsxs("span",{children:["Accuracy: ",t.jsxs("strong",{children:[w,"%"]})]}),t.jsxs("span",{children:["Errors: ",t.jsx("strong",{children:x})]})]}),t.jsx("div",{className:"tt-text",children:c.split("").map((e,s)=>{let d="";return s<n.length?d=n[s]===e?"correct":"wrong":s===n.length&&(d="cursor"),t.jsx("span",{className:`tt-char ${d}`,children:e},s)})}),t.jsx("textarea",{ref:N,className:"tt-input",value:n,onChange:k,disabled:r,placeholder:"Start typing here...",spellCheck:!1,autoComplete:"off"}),r&&t.jsxs("div",{className:"tt-results",children:[t.jsx("h2",{children:"Results"}),t.jsxs("div",{className:"tt-res-grid",children:[t.jsxs("div",{className:"tt-res-item",children:[t.jsx("span",{className:"tt-res-val",children:y}),t.jsx("span",{children:"WPM"})]}),t.jsxs("div",{className:"tt-res-item",children:[t.jsxs("span",{className:"tt-res-val",children:[w,"%"]}),t.jsx("span",{children:"Accuracy"})]}),t.jsxs("div",{className:"tt-res-item",children:[t.jsx("span",{className:"tt-res-val",children:x}),t.jsx("span",{children:"Errors"})]}),t.jsxs("div",{className:"tt-res-item",children:[t.jsxs("span",{className:"tt-res-val",children:[Math.round(f),"s"]}),t.jsx("span",{children:"Time"})]})]}),t.jsx("button",{className:"tt-start-btn",onClick:R,children:"Try Again"})]})]}):t.jsxs("div",{className:"tt-start-box",children:[t.jsx("p",{children:"Test your typing speed!"}),t.jsx("div",{className:"tt-dur-btns",children:[15,30,60].map(e=>t.jsxs("button",{className:e===o?"active":"",onClick:()=>C(e),children:[e,"s"]},e))}),t.jsx("button",{className:"tt-start-btn",onClick:M,children:"Start"})]}),t.jsx(B,{})]})}export{W as default};
