import{r as m,j as c}from"./index-CRqe24Pj.js";import{B as d}from"./BackButton-DJX8SMkP.js";const S=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function h(t){for(const[s,n,e]of S)if(t[s]&&t[s]===t[n]&&t[s]===t[e])return{winner:t[s],line:[s,n,e]};return t.every(Boolean)?{winner:"T",line:null}:null}function N(t,s,n=0){const e=h(t);if(e)return e.winner==="O"?10-n:e.winner==="X"?n-10:0;let i=s?-1/0:1/0;for(let r=0;r<9;r++)if(!t[r]){t[r]=s?"O":"X";const j=N(t,!s,n+1);t[r]=null,i=s?Math.max(i,j):Math.min(i,j)}return i}function y(t){let s=-1/0,n=-1;for(let e=0;e<9;e++)if(!t[e]){t[e]="O";const i=N(t,!1,0);t[e]=null,i>s&&(s=i,n=e)}return n}function O(){const[t,s]=m.useState(Array(9).fill(null)),[n,e]=m.useState(null),[i,r]=m.useState({wins:0,losses:0,ties:0}),[j,u]=m.useState("Your move (X)"),[p,w]=m.useState(null),v=m.useCallback(o=>{if(t[o]||n)return;const l=[...t];l[o]="X",s(l),w(o);const f=h(l);if(f){e(f),f.winner==="T"?(u("Tie!"),r(a=>({...a,ties:a.ties+1}))):(u("X wins!"),r(a=>({...a,wins:a.wins+1})));return}setTimeout(()=>{const a=y(l);if(a>=0){l[a]="O",s([...l]),w(a);const T=h(l);T?(e(T),T.winner==="T"?(u("Tie!"),r(x=>({...x,ties:x.ties+1}))):(u("O wins!"),r(x=>({...x,losses:x.losses+1})))):u("Your move (X)")}},300)},[t,n]),X=()=>{s(Array(9).fill(null)),e(null),u("Your move (X)"),w(null)};return c.jsxs("div",{className:"ttt-root",children:[c.jsx("h1",{className:"ttt-title",children:"Tic-Tac-Toe"}),c.jsxs("div",{className:"ttt-stats",children:[c.jsxs("span",{className:"stat-win",children:["W: ",i.wins]}),c.jsxs("span",{className:"stat-tie",children:["T: ",i.ties]}),c.jsxs("span",{className:"stat-loss",children:["L: ",i.losses]})]}),c.jsx("div",{className:"ttt-board",children:t.map((o,l)=>{var f;return c.jsx("button",{className:`ttt-cell ${o?"filled":""} ${o==="X"?"x":o==="O"?"o":""} ${(f=n==null?void 0:n.line)!=null&&f.includes(l)?"win-cell":""} ${p===l?"pop":""}`,onClick:()=>v(l),children:o},l)})}),c.jsx("div",{className:"ttt-message",children:j}),c.jsx("button",{className:"ttt-restart",onClick:X,children:"Restart"}),c.jsx(d,{})]})}export{O as default};
