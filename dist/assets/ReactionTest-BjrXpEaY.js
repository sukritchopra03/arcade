import{r as a,j as e}from"./index-CRqe24Pj.js";import{B as p}from"./BackButton-DJX8SMkP.js";const s={waiting:"waiting",ready:"ready",go:"go",result:"result",tooEarly:"tooEarly"};function y(){const[r,l]=a.useState(s.waiting),[n,x]=a.useState(0),[i,j]=a.useState([]),[o,u]=a.useState(()=>parseInt(localStorage.getItem("rt-best")||"9999")),m=a.useRef(null),d=a.useRef(0),g=a.useCallback(()=>{if(r===s.waiting){l(s.ready);const t=1500+Math.random()*3500;m.current=setTimeout(()=>{l(s.go),d.current=Date.now()},t)}else if(r===s.ready)clearTimeout(m.current),l(s.tooEarly);else if(r===s.go){const t=Date.now()-d.current;x(t),j(c=>[...c,t]),t<o&&(u(t),localStorage.setItem("rt-best",String(t))),l(s.result)}else l(s.waiting)},[r,o]),f=i.length>0?Math.round(i.reduce((t,c)=>t+c,0)/i.length):0,h=()=>n<200?{text:"Superhuman! âš¡",color:"#69f0ae"}:n<250?{text:"Excellent! ðŸ”¥",color:"#ffd740"}:n<350?{text:"Good ðŸ‘",color:"#00e5ff"}:n<500?{text:"Average",color:"#ff6e40"}:{text:"Slow ðŸ¢",color:"#ff5252"};return e.jsxs("div",{className:"rt-root",children:[e.jsx("h1",{children:"âš¡ Reaction Time"}),e.jsxs("div",{className:`rt-box rt-${r}`,onClick:g,children:[r===s.waiting&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rt-icon",children:"ðŸ–±ï¸"}),e.jsx("p",{className:"rt-big",children:"Click to Start"}),e.jsx("p",{className:"rt-sub",children:"Click as fast as you can when the screen turns green"})]}),r===s.ready&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rt-icon",children:"â³"}),e.jsx("p",{className:"rt-big",children:"Wait for green..."})]}),r===s.go&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rt-icon",children:"ðŸŸ¢"}),e.jsx("p",{className:"rt-big",children:"CLICK NOW!"})]}),r===s.tooEarly&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rt-icon",children:"âŒ"}),e.jsx("p",{className:"rt-big",children:"Too Early!"}),e.jsx("p",{className:"rt-sub",children:"Click to try again"})]}),r===s.result&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rt-icon",children:"â±ï¸"}),e.jsxs("p",{className:"rt-time",children:[n," ms"]}),e.jsx("p",{className:"rt-label",style:{color:h().color},children:h().text}),e.jsx("p",{className:"rt-sub",children:"Click to try again"})]})]}),e.jsxs("div",{className:"rt-stats",children:[e.jsxs("div",{className:"rt-stat-item",children:[e.jsx("span",{className:"rt-stat-val",children:i.length}),e.jsx("span",{children:"Attempts"})]}),e.jsxs("div",{className:"rt-stat-item",children:[e.jsx("span",{className:"rt-stat-val",children:f||"â€”"}),e.jsx("span",{children:"Avg (ms)"})]}),e.jsxs("div",{className:"rt-stat-item",children:[e.jsx("span",{className:"rt-stat-val",children:o<9999?o:"â€”"}),e.jsx("span",{children:"Best (ms)"})]})]}),i.length>0&&e.jsx("div",{className:"rt-history",children:i.map((t,c)=>e.jsxs("span",{className:`rt-hist-item ${t<250?"fast":t<400?"ok":"slow"}`,children:[t,"ms"]},c))}),e.jsx(p,{})]})}export{y as default};
